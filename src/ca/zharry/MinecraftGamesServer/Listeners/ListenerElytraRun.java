package ca.zharry.MinecraftGamesServer.Listeners;

import ca.zharry.MinecraftGamesServer.Players.PlayerElytraRun;
import ca.zharry.MinecraftGamesServer.Players.PlayerElytraRun;
import ca.zharry.MinecraftGamesServer.Players.PlayerLobby;
import ca.zharry.MinecraftGamesServer.Servers.ServerElytraRun;
import ca.zharry.MinecraftGamesServer.Servers.ServerLobby;
import ca.zharry.MinecraftGamesServer.Utils.Point3D;
import net.md_5.bungee.api.ChatMessageType;
import net.md_5.bungee.api.chat.TextComponent;
import org.bukkit.*;
import org.bukkit.block.Block;
import org.bukkit.block.Sign;
import org.bukkit.block.data.type.WallSign;
import org.bukkit.entity.EntityType;
import org.bukkit.event.EventHandler;
import org.bukkit.event.block.Action;
import org.bukkit.event.block.BlockBreakEvent;
import org.bukkit.event.block.BlockPlaceEvent;
import org.bukkit.event.entity.EntityDamageEvent;
import org.bukkit.event.entity.PlayerDeathEvent;
import org.bukkit.event.inventory.InventoryClickEvent;
import org.bukkit.event.player.*;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.Damageable;
import org.bukkit.inventory.meta.ItemMeta;
import org.bukkit.scheduler.BukkitRunnable;

import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.nio.charset.StandardCharsets;

public class ListenerElytraRun extends PlayerListenerAdapter<ServerElytraRun, PlayerElytraRun> {

    FileOutputStream output;

    public ListenerElytraRun(ServerElytraRun server) {
        super(server, PlayerElytraRun.class);

        try {
            output = new FileOutputStream("coords.txt");
        } catch(Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    public void onJoin(PlayerElytraRun player, PlayerJoinEvent event) {
        player.reset(GameMode.ADVENTURE);
        server.giveElytra(player);

        if(server.state == ServerElytraRun.GAME_INPROGRESS || server.state == ServerElytraRun.GAME_STARTING) {
            player.teleport(server.getPlayerStartLocation(player));
        } else {
            player.teleport(server.serverSpawn);
            player.bukkitPlayer.setBedSpawnLocation(server.serverSpawn, true);
        }
        player.dead = false;
    }

    public static String timeToString(long nanoseconds) {
        return String.format("%.1f", nanoseconds / 1e9);
    }
    public static String distanceToString(double distance) {
        return String.format("%.1f", distance);
    }

    public void particle(PlayerElytraRun player, double x, double y, double z) {
        player.bukkitPlayer.spawnParticle(Particle.FLAME, x, y, z, 0, 0, 0, 0, 0);
    }

    @Override
    public void onMove(PlayerElytraRun player, PlayerMoveEvent event) {
        particle(player, 316.98969133549394, 234.41999998688698, 675.6691994123017);
        particle(player, 316.98969133549394, 234.7531999805212, 675.931252944783);
        particle(player, 316.98969133549394, 235.00133597911216, 676.1697216662135);
        particle(player, 316.98969133549394, 235.1661092609382, 676.3867282089693);
        particle(player, 316.98969133549394, 235.24918707874468, 676.5842041685684);
        particle(player, 316.98969133549394, 235.25220334025371, 676.7639072969826);
        particle(player, 316.98969133549394, 235.17675927506423, 676.9274371485524);
        particle(player, 316.98969133549394, 235.02442408821366, 677.0762493177697);
        particle(player, 316.98940008162145, 234.79673560066868, 677.2312662320026);
        particle(player, 316.98895550287807, 234.4952008770059, 677.3978077483893);
        particle(player, 316.9885109241347, 234.1212968405392, 677.5748366530381);
        particle(player, 316.9879979572883, 233.6764708761443, 677.7614077964382);
        particle(player, 316.9874190482477, 233.162141421027, 677.9566609634179);
        particle(player, 316.9864175718113, 232.56963938718144, 678.1590415211575);
        particle(player, 316.98519325834513, 231.97085465323954, 678.3877235676072);
        particle(player, 316.9838814550997, 231.36746570074197, 678.6432961243146);
        particle(player, 316.98249703190316, 230.7597925999271, 678.9256966484581);
        particle(player, 316.9811794759837, 230.1490779942598, 679.235291096692);
        particle(player, 316.9799372992093, 229.53742642433568, 679.57282830997);
        particle(player, 316.9791260171746, 228.92834883734787, 679.9396797799113);
        particle(player, 316.9786338817473, 228.32475243378786, 680.3368604890697);
        particle(player, 316.9786905464813, 227.72805139967892, 680.7646278176293);
        particle(player, 316.98055365685343, 227.138312653181, 681.2225635145198);
        particle(player, 316.98269327324937, 226.5549848201205, 681.7099849698214);
        particle(player, 316.9849166747652, 225.97874972926772, 682.2267874876771);
        particle(player, 316.98566528222904, 225.41283858668092, 682.7740148133756);
        particle(player, 316.98478889324866, 224.8614577236887, 683.3530021640704);
        particle(player, 316.98335972853266, 224.32914132574743, 683.9650451318038);
        particle(player, 316.9810935228158, 223.81780672028233, 684.6100938281105);
        particle(player, 316.9779617549402, 223.32751488196604, 685.2871997563865);
        particle(player, 316.9719800129671, 222.85686644239837, 685.9948157948678);
        particle(player, 316.9633992591829, 222.4047766017997, 686.7315672525781);
        particle(player, 316.95243878151297, 221.97083242608238, 687.4963704637786);
        particle(player, 316.93930922795596, 221.5536012310465, 688.2877610096915);
        particle(player, 316.9241978930039, 221.15195938671144, 689.1044469253004);
        particle(player, 316.9072755168088, 220.7646951174445, 689.945150877001);
        particle(player, 316.888074715794, 220.39211761488045, 690.8091525753437);
        particle(player, 316.866485613364, 220.0338681452976, 691.6954800554258);
        particle(player, 316.8427240152654, 219.68860359663066, 692.6028572230427);
        particle(player, 316.8166599702059, 219.3563340317779, 693.5304923737745);
        particle(player, 316.7881722139333, 219.03723263256424, 694.4776255505966);
        particle(player, 316.7568120287272, 218.732237487635, 695.4436753054694);
        particle(player, 316.7221999510887, 218.44043438726695, 696.4274412082774);
        particle(player, 316.6846547258508, 218.16034499644257, 697.4276508136483);
        particle(player, 316.6447886956768, 217.89106621977314, 698.4432938565208);
        particle(player, 316.6028213365567, 217.63147809406263, 699.473338028183);
        particle(player, 316.5589499680794, 217.3804888525667, 700.516829271047);
        particle(player, 316.5140005416441, 217.13750179495258, 701.573036368876);
        particle(player, 316.46938559018656, 216.90230398134594, 702.6413742057246);
        particle(player, 316.42504954912727, 216.67400764516063, 703.7210531652363);
        particle(player, 316.38094298088674, 216.4518262015826, 704.8113677350073);
        particle(player, 316.3373678296103, 216.2350627155397, 705.911698913389);
        particle(player, 316.2945868840772, 216.0226039641932, 707.0213862415428);
        particle(player, 316.2524981914182, 215.81370253687126, 708.139912765623);
        particle(player, 316.2110116685802, 215.60750574322074, 709.2667931423513);
        particle(player, 316.17004634878697, 215.4032403355763, 710.4016178985522);
        particle(player, 316.1295288019982, 215.20029867541993, 711.5440643115697);
        particle(player, 316.0893905714397, 214.99853341512107, 712.693943901193);
        particle(player, 316.0495708497222, 214.79781360845834, 713.851082599597);
        particle(player, 316.0100156442889, 214.5980228849626, 715.015319205554);
        particle(player, 315.9706770336882, 214.3990578274758, 716.1865040117275);
        particle(player, 315.93151433757976, 214.20052432952525, 717.3644376793031);
        particle(player, 315.8924890703011, 214.00237452374404, 718.5490157970937);
        particle(player, 315.85356776667714, 213.80446090623778, 719.740118346069);
        particle(player, 315.8147205777053, 213.6066552425934, 720.9376394299875);
        particle(player, 315.7762763590573, 213.40863028837973, 722.1414530702759);
        particle(player, 315.7385423162093, 213.21041021735215, 723.3515223138884);
        particle(player, 315.7017830100407, 213.01191089473753, 724.5677854846807);
        particle(player, 315.6669688344348, 212.81305255366732, 725.790198599562);
        particle(player, 315.6346134332118, 212.61376717533574, 727.018711066512);
        particle(player, 315.60552982111636, 212.41399323156105, 728.2532743365211);
        particle(player, 315.5804516062289, 212.21344953326215, 729.4937899494188);
        particle(player, 315.55894602188823, 212.01222016793636, 730.7402520074196);
        particle(player, 315.5406274413908, 211.81038003741597, 731.9926499387249);
        particle(player, 315.5251522386546, 211.60799586130446, 733.2509688251278);
        particle(player, 315.51221420937543, 211.40512707079807, 734.5151897451968);
        particle(player, 315.50154049151786, 211.20182660486677, 735.7852901204499);
        particle(player, 315.49288793066063, 210.9981416194609, 737.06124405558);
        particle(player, 315.48566481941225, 210.79422578818472, 738.3430472675799);
        particle(player, 315.47820958556497, 210.59076422789943, 739.6307912193646);
        particle(player, 315.470164385114, 210.38812729384478, 740.9244616088683);
        particle(player, 315.4615885486731, 210.18622363364878, 742.223931426667);
        particle(player, 315.45253498822825, 209.98497201498603, 743.5290824583145);
        particle(player, 315.4430508964522, 209.78430020447553, 744.8398043586417);
        particle(player, 315.43394590453477, 209.58465006259053, 746.1561003750465);
        particle(player, 315.4255620653613, 209.38600463995246, 747.4778499852512);
        particle(player, 315.4197687811686, 209.18872908987979, 748.8049994642795);
        particle(player, 315.4162885745126, 208.99276088324666, 750.1373964063214);
        particle(player, 315.414873907487, 208.79795319652106, 751.4748777919663);
        particle(player, 315.41656465327947, 208.60417569544904, 752.8172949060674);
        particle(player, 315.41825991032454, 208.41131268319708, 754.1645119089558);
        particle(player, 315.41995963668853, 208.21926145647046, 755.5164040293143);
        particle(player, 315.4216637904972, 208.02793084625077, 756.8728563630274);
        particle(player, 315.4233723299755, 207.83723992241852, 758.2337628065071);
        particle(player, 315.4262865500635, 207.64738579601135, 759.5990577436409);
        particle(player, 315.42960434701195, 207.4583608393826, 760.9686349298396);
        particle(player, 315.43588597940965, 207.27007154173083, 762.3423819161583);
        particle(player, 315.4456274306461, 207.08252365126654, 763.7201926985767);
        particle(player, 315.4588597857232, 206.8956334675787, 765.1019546163358);
        particle(player, 315.47521252963674, 206.70932673952913, 766.4875753253489);
        particle(player, 315.4943554610639, 206.5235375984864, 767.8769700942042);
        particle(player, 315.51559268456185, 206.3382076119913, 769.2700721674034);
        particle(player, 315.53870484431167, 206.15328494425773, 770.6668085424354);
        particle(player, 315.56349641577305, 205.96872361144804, 772.0671112608079);
        particle(player, 315.589374323783, 205.7845670230278, 773.4709429180831);
        particle(player, 315.61622784671465, 205.60076944039514, 774.878235792562);
        particle(player, 315.6439582595251, 205.41729029369114, 776.2889265734707);
        particle(player, 315.67247752616095, 205.23409359770005, 777.7029558815469);
        particle(player, 315.7017071345994, 205.0511474337566, 779.1202678463043);
        particle(player, 315.7324086525929, 204.86842349020066, 780.540787363883);
        particle(player, 315.7714486951997, 204.68563876926748, 781.9640560688703);
        particle(player, 315.8183641475654, 204.50280011824935, 783.3900389352989);
        particle(player, 315.8723193191985, 204.31991361300985, 784.8187358797097);
        particle(player, 315.93256965089637, 204.13698464489445, 786.2501473616704);
        particle(player, 315.99720341276435, 203.9540179978497, 787.6843645892741);
        particle(player, 316.0615971722045, 203.7712758859087, 789.1216599115944);
        particle(player, 316.12243630310314, 203.5890629070555, 790.5621493900999);
        particle(player, 316.17552280466043, 203.40755737714264, 792.0058169199498);
        particle(player, 316.21707098333263, 203.2268338327788, 793.4524683298024);
        particle(player, 316.2483336663647, 203.04648966675512, 794.9019135879287);
        particle(player, 316.2704251499241, 202.86632248612295, 796.354038348437);
        particle(player, 316.28433778244096, 202.6861463014147, 797.8087544004125);
        particle(player, 316.2909541948402, 202.50596213114562, 799.2660263854171);
        particle(player, 316.29106076242203, 202.32577087861938, 800.7258241611772);
        particle(player, 316.2852631740922, 202.14557334496055, 802.1881214222477);
        particle(player, 316.27260479667, 201.96476517770924, 803.6527172200047);
        particle(player, 316.2504447788641, 201.7827651072438, 805.1193347126571);
        particle(player, 316.2193656638119, 201.59951039837722, 806.5879978676778);
        particle(player, 316.18031836020225, 201.41504305433156, 808.058787583832);
        particle(player, 316.13289377622806, 201.22898893713702, 809.5316137569051);
        particle(player, 316.0737357273398, 201.04009967800297, 811.0059545261022);
        particle(player, 316.0032825722333, 200.8465992505162, 812.4815717985413);
        particle(player, 315.92230738104604, 200.648043736057, 813.9586263154681);
        particle(player, 315.8319210316677, 200.4436968444711, 815.4372825932151);
        particle(player, 315.73310154100295, 200.2331220701258, 816.917792215982);
        particle(player, 315.62669027453586, 200.01695215902458, 818.40064723271);
        particle(player, 315.51431426526614, 199.79467043770313, 819.8861370131436);
        particle(player, 315.39742932483324, 199.56624930196267, 821.374663047049);
        particle(player, 315.2764483500901, 199.33229926572625, 822.8666678426738);
        particle(player, 315.15173948877253, 199.09337013236302, 824.3625431486998);
        particle(player, 315.02670357674464, 198.84962282865635, 825.8628362501323);
        particle(player, 314.90351200904587, 198.60120158949059, 827.3679327782153);
        particle(player, 314.78280035500995, 198.34856741738116, 828.8781603475779);
        particle(player, 314.66425035259016, 198.09196022944562, 830.3937006999555);
        particle(player, 314.5493797213286, 197.83037139065942, 831.9145051728129);
        particle(player, 314.43820679787797, 197.56392057911754, 833.4407662401725);
        particle(player, 314.3302848379783, 197.29307615936455, 834.9727370689166);
        particle(player, 314.2247411306882, 197.01898452944388, 836.5108121727436);
        particle(player, 314.1189668827884, 196.74407550815707, 838.0555784908847);
        particle(player, 314.01154207198834, 196.46944750162956, 839.6072048702466);
        particle(player, 313.9021341454951, 196.1954067553317, 841.1656655157794);
        particle(player, 313.79135316627446, 195.92254682166802, 842.7310699139821);
        particle(player, 313.68068123061244, 195.6517038615683, 844.3036226856167);
        particle(player, 313.57052297975525, 195.38313583100566, 845.8832505462809);
        particle(player, 313.4626512999576, 195.11721277892914, 847.4699744319361);
        particle(player, 313.3600784759559, 194.85424897370356, 849.0638051480299);
        particle(player, 313.26788921532676, 194.59422508037562, 850.6645960547523);
        particle(player, 313.18873521291283, 194.33697253793977, 852.2719987334851);
        particle(player, 313.1212017127657, 194.0821987217477, 853.885661599048);
        particle(player, 313.06449894681975, 193.8296419051456, 855.5052677594853);
        particle(player, 313.0174535051823, 193.5790679969806, 857.1305435881825);
        particle(player, 312.9790192524545, 193.33012785850866, 858.7612124279408);
        particle(player, 312.9482649038624, 193.08264925782674, 860.3970708369197);
        particle(player, 312.9243606765997, 192.83647811970877, 862.0379371257882);
        particle(player, 312.9055970626223, 192.59104930829537, 863.6835592778946);
        particle(player, 312.8909418028541, 192.3458504059234, 865.3337250870162);
        particle(player, 312.8799506699687, 192.10041546054774, 866.9882587153367);
        particle(player, 312.8722284637444, 191.85446827961073, 868.6470575443201);
        particle(player, 312.8674236102708, 191.60791293136643, 870.3100791415237);
        particle(player, 312.86522246104107, 191.36050618260182, 871.9772503772384);
        particle(player, 312.8673073335841, 191.112184051311, 873.6485555125914);
        particle(player, 312.86939756909385, 190.86304057747947, 875.3240220331644);
        particle(player, 312.8714926900896, 190.61300742514553, 877.0036318517772);
        particle(player, 312.8735927119167, 190.36201645733655, 878.6873702447272);
        particle(player, 312.875697245722, 190.109855619477, 880.3751894017117);
        particle(player, 312.8768149238568, 189.85632474294184, 882.067063199792);
        particle(player, 312.87695946501026, 189.60124570985897, 883.7629750934326);
        particle(player, 312.87710440046664, 189.3447752220863, 885.4629990211888);
        particle(player, 312.87675932816575, 189.0868877983498, 887.1671535163684);
        particle(player, 312.875921628292, 188.82772657706096, 888.875500114445);
        particle(player, 312.87458897386347, 188.56725856357667, 890.5880459020921);
        particle(player, 312.87325273782, 188.30561551812607, 892.3048449069087);
        particle(player, 312.87191295049354, 188.04291591592022, 894.0259409336858);
        particle(player, 312.87056964246636, 187.77926628664352, 895.7513686429087);
        particle(player, 312.8692228445128, 187.51476241888807, 897.4811545200395);
        particle(player, 312.86787258754737, 187.24949044314815, 899.2153177465958);
        particle(player, 312.86651890257775, 186.9835278056194, 900.953870982934);
        particle(player, 312.8651615182597, 186.7171071260163, 902.6968642668995);
        particle(player, 312.8637993099608, 186.45109014273604, 904.4445028955485);
        particle(player, 312.8624340936155, 186.1854356856669, 906.1967103144336);
        particle(player, 312.86106590078913, 185.92010678334353, 907.95341380348);
        particle(player, 312.8596947625809, 185.65507023475686, 909.714544125682);
        particle(player, 312.85832070964335, 185.39029622483224, 911.4800352112316);
        particle(player, 312.8569434812753, 185.12591599775308, 913.2498654397144);
        particle(player, 312.85556316350176, 184.8620464688659, 915.0240032537052);
        particle(player, 312.8541795467408, 184.59895282810712, 916.8024504762241);
        particle(player, 312.8527933525589, 184.336555366168, 918.5851056422888);
        particle(player, 312.8514046092963, 184.07478256251562, 920.3718742973597);
        particle(player, 312.85001334474686, 183.81357024413538, 922.1626683112776);
        particle(player, 312.84861958619035, 183.55286083069842, 923.9574052623419);
        particle(player, 312.8472230809752, 183.29275670409658, 925.7560478151188);
        particle(player, 312.84737644700823, 183.03350664706593, 927.5585965203245);
        particle(player, 312.84856764037033, 182.77547953098897, 929.3650618088452);
        particle(player, 312.8513408912619, 182.51928864904536, 931.1754850206836);
        particle(player, 312.85569939893514, 182.264891165325, 932.9896949915025);
        particle(player, 312.86394647124257, 182.01209895228422, 934.807515884483);
        particle(player, 312.8767272628634, 181.76088629981695, 936.6287989103448);
        particle(player, 312.8951401246299, 181.5110872400028, 938.4533407877343);
        particle(player, 312.9201665419569, 181.2625532435376, 940.2809426874113);
        particle(player, 312.95479689763243, 181.01529251613454, 942.1113266702401);
        particle(player, 312.9995851663417, 180.76917105459154, 943.9442780562647);
        particle(player, 313.0534370402546, 180.52406895866304, 945.7797041673875);
        particle(player, 313.11642561622995, 180.27987894681644, 947.6174498540908);
        particle(player, 313.1886285160816, 180.03607614092198, 949.4572630063819);
        particle(player, 313.2695822381196, 179.7926199925869, 951.2990834968379);
        particle(player, 313.3583442309033, 179.54918786396337, 953.1428300949859);
        particle(player, 313.4546079962584, 179.3048877943263, 954.9882541238129);
        particle(player, 313.5570245836304, 179.0593531837218, 956.8353741105036);
        particle(player, 313.66494731852754, 178.81271086023693, 958.6842974592652);
        particle(player, 313.777273300635, 178.56507462252986, 960.5351616921346);
        particle(player, 313.89353655237693, 178.31608120078198, 962.3879311543127);
        particle(player, 314.01332334840004, 178.06539593438305, 964.2425924546565);
        particle(player, 314.13626979204133, 177.81287448346157, 966.0991932544888);
        particle(player, 314.2620556779577, 177.55853716615448, 967.9578266704556);
        particle(player, 314.38930408849103, 177.3017500626068, 969.818497257364);
        particle(player, 314.51681072269264, 177.0420813652051, 971.6812721374695);
        particle(player, 314.6434817924546, 176.77913200878723, 973.546230681184);
        particle(player, 314.7672717043978, 176.51216823027283, 975.4134232015281);
        particle(player, 314.88798447065966, 176.2414028657855, 977.2830687344984);
        particle(player, 315.00434615275054, 175.96629714765047, 979.1552161572357);
        particle(player, 315.11629383172385, 175.6868936318369, 981.0300314446569);
        particle(player, 315.22432146309416, 175.4028501155268, 982.9075445328319);
        particle(player, 315.3288698556851, 175.1138312283947, 984.7877994616804);
        particle(player, 315.4303371757577, 174.81991705616923, 986.6709705717793);
        particle(player, 315.52907849768764, 174.52116607488782, 988.5572209445023);
        particle(player, 315.625410669682, 174.21763169931893, 990.4467077816344);
        particle(player, 315.7196211692394, 173.90975585730337, 992.3397003022853);
        particle(player, 315.81196611056674, 173.59793964788864, 994.236437674527);
        particle(player, 315.9010267852961, 173.28355319216158, 996.1374979350092);
        particle(player, 315.98663921320286, 172.9676335301527, 998.0432536105317);
        particle(player, 316.0691974001337, 172.65052861722316, 999.9538072675242);
        particle(player, 316.1479310553915, 172.33294236693078, 1001.8693889511015);
        particle(player, 316.22216827365366, 172.0158884978735, 1003.7902851284235);
        particle(player, 316.2895924688473, 171.7010188163398, 1005.7169416493052);
        particle(player, 316.34983290778035, 171.38885174405252, 1007.6493455461346);
        particle(player, 316.4031134841182, 171.07911962784152, 1009.587221020824);
        particle(player, 316.4501921920374, 170.77158132159445, 1011.5303179521491);
        particle(player, 316.49174431360865, 170.4661977240511, 1013.4784632971972);
        particle(player, 316.5283716419606, 170.16275501239787, 1015.4314387586999);
        particle(player, 316.5606103811224, 169.86106058255734, 1017.3890463497784);
        particle(player, 316.5889382954134, 169.56094094354415, 1019.351106082328);
        particle(player, 316.61378146105034, 169.26152193547122, 1021.3172444689897);
        particle(player, 316.6360841099908, 168.96255502892046, 1023.287313968417);
        particle(player, 316.6561233897268, 168.66381558678574, 1025.2611875200407);
        particle(player, 316.67414624012406, 168.36509368247155, 1027.2387538029118);
        particle(player, 316.69037272992045, 168.0663876007268, 1029.2199727092543);
        particle(player, 316.7049989377083, 167.76769579405712, 1031.2048050414294);
        particle(player, 316.7193394035955, 167.46974937239125, 1033.1934219903796);
        particle(player, 316.7363323007956, 167.17423682476758, 1035.1862061440538);
        particle(player, 316.75684383429336, 166.88175872425566, 1037.1831568388939);
        particle(player, 316.78109620042494, 166.5928348480445, 1039.1842300032308);
        particle(player, 316.8086904072584, 166.30774176404697, 1041.1893013337406);
        particle(player, 316.8392675216253, 166.02640070416513, 1043.1981327224557);
        particle(player, 316.87250486104006, 165.74842275286957, 1045.2104054057381);
        particle(player, 316.9081148593308, 165.4734593076151, 1047.2258332842732);
        particle(player, 316.945841241778, 165.20119790020405, 1049.2441594671825);
        particle(player, 316.985455617116, 164.9313584512857, 1051.265153191071);
        particle(player, 317.0273333931668, 164.66399221514337, 1053.2886709458228);
        particle(player, 317.07122979117577, 164.39884194873832, 1055.314503016729);
        particle(player, 317.1192592285489, 164.13597994446985, 1057.3424592336387);
        particle(player, 317.1768205746093, 163.87604712024824, 1059.3722694968023);
        particle(player, 317.24287356553293, 163.6187346820887, 1061.4037123058845);
        particle(player, 317.3170946560016, 163.3640473335573, 1063.4366240978513);
        particle(player, 317.39859136058664, 163.11170745198226, 1065.4708133864497);
        particle(player, 317.48657346259836, 162.86174772815696, 1067.5061818754418);
        particle(player, 317.58033572103767, 162.61418723222903, 1069.5426252153875);
        particle(player, 317.67865025963897, 162.3690429139447, 1071.5800767343853);
        particle(player, 317.78044733363146, 162.12658430823404, 1073.6185222844272);
        particle(player, 317.88534313188796, 161.88665574382316, 1075.6577873111053);
        particle(player, 317.9929932319896, 161.64898507607867, 1077.697677833295);
        particle(player, 318.10309082603163, 161.4133294336844, 1079.7380221524365);
        particle(player, 318.2147860927646, 161.1794720698484, 1081.7787043109704);
        particle(player, 318.32439663620505, 160.9472195522109, 1083.8197726715123);
        particle(player, 318.4280628327398, 160.71601267202712, 1085.8611422337574);
        particle(player, 318.5246777127055, 160.48534551690804, 1087.90264562801);
        particle(player, 318.61500865882994, 160.25516055442108, 1089.9442048157696);
        particle(player, 318.6991608615687, 160.02473175008126, 1091.9856070861038);
        particle(player, 318.77720965487714, 159.79381301979816, 1094.0267928795204);
        particle(player, 318.84924368785977, 159.562036638042, 1096.0676879695736);
        particle(player, 318.91591874391804, 159.32949257248578, 1098.108339605602);
        particle(player, 318.97781914385826, 159.09626135319013, 1100.1487914726645);
        particle(player, 319.03546477583893, 158.86212875623008, 1102.1890163731393);
        particle(player, 319.0887439685518, 158.62689902222343, 1104.229010692724);
        particle(player, 319.13870712029495, 158.3902527338365, 1106.2687401502174);
        particle(player, 319.18629011511524, 158.15188957819265, 1108.308192567355);
        particle(player, 319.23292299000167, 157.91153123812927, 1110.3473656271988);
        particle(player, 319.2816039842356, 157.6689186820661, 1112.3862226357792);
        particle(player, 319.3437097563951, 157.4225151308654, 1114.4238256357398);
        particle(player, 319.4321337329646, 157.17083959420796, 1116.4583370655957);
        particle(player, 319.55199594580483, 156.91317029101737, 1118.488577817937);
        particle(player, 319.70211330599216, 156.64898745769864, 1120.5144376855062);
        particle(player, 319.8792091552978, 156.3785329910001, 1122.5365001125338);
        particle(player, 320.0798013175313, 156.10221203282504, 1124.5555039087299);
        particle(player, 320.2887230328474, 155.8184452079843, 1126.573599965602);
        particle(player, 320.4854417287019, 155.5254807808497, 1128.5924834779382);
        particle(player, 320.64934586974994, 155.2222388255216, 1130.611999835047);
        particle(player, 320.7690592364271, 154.907432657945, 1132.630530406354);
        particle(player, 320.84427941209407, 154.58024281889018, 1134.6472125026135);
        particle(player, 320.87701522035655, 154.2403035489171, 1136.661676334555);
        particle(player, 320.8701777982935, 153.88770488817988, 1138.673947731434);
        particle(player, 320.8257758035095, 153.5227369746301, 1140.684076209299);
        particle(player, 320.73942100259, 153.1449076236858, 1142.690614397586);
        particle(player, 320.6055741821265, 152.75396153223056, 1144.6915137324586);
        particle(player, 320.42656230865254, 152.35064961472372, 1146.6868998767115);
        particle(player, 320.2071647449211, 151.93616814986794, 1148.6778847516223);
        particle(player, 319.9516382394635, 151.51137063356867, 1150.6654649906984);
        particle(player, 319.663150545443, 151.0773145293756, 1152.6505436079558);
        particle(player, 319.3449713571081, 150.6360242813678, 1154.634530920776);
        particle(player, 318.99924350953916, 150.19122017061645, 1156.6192574534687);
        particle(player, 318.6318879278057, 149.74629319711462, 1158.6074526245786);
        particle(player, 318.24936714074363, 149.30478027306143, 1160.6019568519905);
        particle(player, 317.8557953262117, 148.87002725005672, 1162.60481263482);
        particle(player, 317.45337718647835, 148.4418861813083, 1164.6161219649448);
        particle(player, 317.0429517298086, 148.01975373351553, 1166.6355122495186);
        particle(player, 316.6252690144569, 147.60308162685487, 1168.6626405443164);
        particle(player, 316.20277881755123, 147.19159943799482, 1170.6976753894069);
        particle(player, 315.78309846810816, 146.78529204429063, 1172.7419063642776);
        particle(player, 315.37674971449593, 146.3841381693459, 1174.7967654428703);
        particle(player, 314.9945109944335, 145.98810281402174, 1176.8630602509363);
        particle(player, 314.6479543500937, 145.59604333205144, 1178.940418461946);
        particle(player, 314.3510838694185, 145.2055707373471, 1181.026896130941);
        particle(player, 314.11382544559746, 144.81585457218253, 1183.1200145314272);
        particle(player, 313.93581186883466, 144.4275141545596, 1185.2183555624792);
        particle(player, 313.81555612265083, 144.042221050555, 1187.3210741971504);
        particle(player, 313.7548463412927, 143.66272586670763, 1189.427124327632);
        particle(player, 313.7522592859007, 143.29233348502726, 1191.536104766277);
        particle(player, 313.80447401624014, 142.93294813279468, 1193.6480423364353);
        particle(player, 313.90023829790033, 142.58585035716635, 1195.76359143967);
        particle(player, 314.028072708125, 142.25133854805046, 1197.883743499592);
        particle(player, 314.1746169161856, 141.9298237879458, 1200.0097434277964);
        particle(player, 314.3272297592303, 141.62070850629513, 1202.1420699019272);
        particle(player, 314.4708813343991, 141.323396955865, 1204.2808095466235);
        particle(player, 314.5953263442268, 141.03742528067067, 1206.4252000744727);
        particle(player, 314.70017436530344, 140.76175828917255, 1208.5741380272698);
        particle(player, 314.7875743294334, 140.4952503305146, 1210.7266197517768);
        particle(player, 314.8588025917365, 140.23699439871498, 1212.8817846899938);
        particle(player, 314.9174967673537, 139.9861772156118, 1215.0389330569767);
        particle(player, 314.966278390836, 139.74217559832954, 1217.197461027985);
        particle(player, 315.006234707261, 139.50422831829965, 1219.3567622186679);
        particle(player, 315.0383343044191, 139.27165916835153, 1221.516306271103);
        particle(player, 315.0634400624572, 139.0438674666972, 1223.6756294902732);
        particle(player, 315.0835587467347, 138.82022008619876, 1225.8343195870611);
        particle(player, 315.099845432143, 138.5996335239031, 1227.9919008582506);
        particle(player, 315.1127211886795, 138.38123022923313, 1230.1480109090674);
        particle(player, 315.1207276106004, 138.16409223854646, 1232.3023159618272);
        particle(player, 315.12257032431944, 137.94773093309422, 1234.454618663809);
        particle(player, 315.1124319540989, 137.731459169387, 1236.6045830361536);
        particle(player, 315.08357734947435, 137.51439058595452, 1238.7514096952214);
        particle(player, 315.0326401502647, 137.2959599784722, 1240.8945374182017);
        particle(player, 314.9602569769317, 137.07577459585394, 1243.033828313272);
        particle(player, 314.8670099885401, 136.8530389341024, 1245.1690822886426);
        particle(player, 314.75520921974913, 136.62729764303708, 1247.3004534234678);
        particle(player, 314.6292858885444, 136.39856284079318, 1249.4285164531473);
        particle(player, 314.4925867627573, 136.16699443109505, 1251.553774038004);
        particle(player, 314.3480920110282, 135.9327340456844, 1253.676684074018);
        particle(player, 314.1978623363173, 135.6959014025375, 1255.7976028369158);
        particle(player, 314.04251955586716, 135.45675978847112, 1257.9167824973085);
        particle(player, 313.8850229185837, 135.2152398731894, 1260.0345881252215);
        particle(player, 313.7256024471505, 134.97158420268852, 1262.151226607246);
        particle(player, 313.56446301976206, 134.7260105874266, 1264.2668831457559);
        particle(player, 313.40178712546725, 134.478714624925, 1266.3817234469075);
        particle(player, 313.237737317277, 134.22987196510746, 1268.4958956930507);
        particle(player, 313.0742606484452, 133.97994963539077, 1270.609752725909);
        particle(player, 312.91129124577753, 133.72905814680456, 1272.72337412326);
        particle(player, 312.74877040910326, 133.47729669887704, 1274.8368308840231);
        particle(player, 312.58724196324295, 133.22475433743847, 1276.9502303648342);
        particle(player, 312.42961909297753, 132.9716708484675, 1279.0638642137042);
        particle(player, 312.2815131953571, 132.71825516547514, 1281.1780599553001);
        particle(player, 312.1491296768677, 132.46500271879538, 1283.293012469159);
        particle(player, 312.03135329034814, 132.21204690067754, 1285.408636964364);
        particle(player, 311.92659182673856, 131.95935701944762, 1287.5248187334937);
        particle(player, 311.8334266344338, 131.7069055590491, 1289.6414642826912);
        particle(player, 311.7505937001326, 131.454667850467, 1291.7584972075435);
        particle(player, 311.6769667921622, 131.20262177714912, 1293.8758548940195);
        particle(player, 311.6115424414089, 130.95074751090692, 1295.9934858768056);
        particle(player, 311.553426559508, 130.69902727514219, 1298.1113477217352);
        particle(player, 311.5018225157945, 130.44744513257234, 1300.229405326303);
        particle(player, 311.4542263600968, 130.19598679491952, 1302.347623963494);
        particle(player, 311.40475343624155, 129.9446394522907, 1304.4658809508962);
        particle(player, 311.35119862702345, 129.6930910079684, 1306.5840097786447);
        particle(player, 311.2940063518668, 129.44136219672563, 1308.7020367415128);
        particle(player, 311.2335725629437, 129.18947161545768, 1310.8199858901733);
        particle(player, 311.17206479446327, 128.93743594361007, 1312.9379464897404);
        particle(player, 311.1138274553574, 128.68557100261495, 1315.0561098274795);
        particle(player, 311.0621153117168, 128.43430971546294, 1317.1745904918573);
        particle(player, 311.0192326543175, 128.18403202845013, 1319.2934113215433);
        particle(player, 310.9860352414079, 127.93492744528136, 1321.4125143859665);
        particle(player, 310.9645037155928, 127.68715618167592, 1323.5317735650997);
        particle(player, 310.95336291858683, 127.44057791451108, 1325.6510691118908);
        particle(player, 310.9526778839388, 127.19562692098711, 1327.770392866839);
        particle(player, 310.9625369093641, 126.95240754061743, 1329.8896563290255);
        particle(player, 310.98055993321805, 126.71127255775475, 1332.0088819157477);
        particle(player, 311.00585055870494, 126.47199911031478, 1334.1279107323123);
        particle(player, 311.0376102528727, 126.23438816444583, 1336.2466051184947);
        particle(player, 311.0751276575842, 125.99826196683357, 1338.3648457872255);
        particle(player, 311.1183860415465, 125.76333124402038, 1340.4824731105518);
        particle(player, 311.16675080436545, 125.52920026426156, 1342.599347009393);
        particle(player, 311.21965995640295, 125.29578391365683, 1344.7154232444361);
        particle(player, 311.27660329937856, 125.06204979922644, 1346.830440661213);
        particle(player, 311.3377184966632, 124.82674410217997, 1348.944115342395);
        particle(player, 311.4031248417768, 124.58835590278437, 1351.0561643881647);
        particle(player, 311.47295298194433, 124.34559281843889, 1353.1664244859624);
        particle(player, 311.5467160738785, 124.09788517938566, 1355.2749943865615);
        particle(player, 311.62397513417164, 123.8441536696362, 1357.381859111007);
        particle(player, 311.7043384643912, 123.58316408703436, 1359.4869941524385);
        particle(player, 311.7868398182494, 123.31312342696684, 1361.5902839761063);
        particle(player, 311.8706531808513, 123.03307197515815, 1363.6918747135117);
        particle(player, 311.9550589336909, 122.74328930805723, 1365.792269891575);
        particle(player, 312.04001081423814, 122.4444249871854, 1367.8920286907794);
        particle(player, 312.12485654240953, 122.13728238397518, 1369.991749916856);
        particle(player, 312.2096281179685, 121.82259380288438, 1372.0919483853913);
        particle(player, 312.29316875930857, 121.50145761754811, 1374.1932663108848);
        particle(player, 312.37201840875457, 121.17677224065149, 1376.296916872533);
        particle(player, 312.4436573719235, 120.85192811644349, 1378.4040871049642);
        particle(player, 312.5076668447841, 120.52831554045115, 1380.5151589568966);
        particle(player, 312.5642730674337, 120.206204725901, 1382.630103552019);
        particle(player, 312.61428252496614, 119.88545036300712, 1384.7487562901304);
        particle(player, 312.6584137986055, 119.56592120209545, 1386.8709688663632);
        particle(player, 312.69730714781053, 119.24749869315347, 1388.996607174729);
        particle(player, 312.73153304777054, 118.93007575701648, 1391.1255495275968);
        particle(player, 312.7615997961912, 118.6135556754533, 1393.2576851368058);
        particle(player, 312.7885698918325, 118.29785108864687, 1395.3929131337954);
        particle(player, 312.8127810578174, 117.98288308967815, 1397.5311415578383);
        particle(player, 312.83453420333075, 117.66858040662738, 1399.6722857068833);
        particle(player, 312.8540974363499, 117.35487866381484, 1401.816267361916);
        particle(player, 312.87170963899564, 117.04171971452365, 1403.9630141057253);
        particle(player, 312.8881963542461, 116.72905103828806, 1406.112457459913);
        particle(player, 312.9036810382289, 116.41682519649981, 1408.2645353488865);
        particle(player, 312.91827368134, 116.10499934068982, 1410.4191897767432);
        particle(player, 312.9320722761988, 115.79353476838824, 1412.5763664394335);
        particle(player, 312.94516412558903, 115.48239652195949, 1414.7360143768976);
        particle(player, 312.9576270078256, 115.1715530262536, 1416.8980856607652);
        particle(player, 312.9714041213564, 114.86172671393575, 1419.0627471893538);
        particle(player, 312.9869738124971, 114.5533747026352, 1421.2300608517478);
        particle(player, 313.00478562310036, 114.24672088766278, 1423.3999965523687);
        particle(player, 313.024600088082, 113.94213400878118, 1425.5725671850182);
        particle(player, 313.04620426353773, 113.64012439304939, 1427.7478096651087);
        particle(player, 313.0694052014345, 113.34060732619609, 1429.9255619303085);
        particle(player, 313.09338795304717, 113.0436821935566, 1432.1057296716065);
        particle(player, 313.1168279422358, 112.7497685162476, 1434.2883091779963);
        particle(player, 313.1372753929379, 112.4590623502174, 1436.4732042595158);
        particle(player, 313.1550565151876, 112.1712365842433, 1438.6601496920405);
        particle(player, 313.1704618814593, 111.88615979997022, 1440.8489534482144);
        particle(player, 313.18375049136813, 111.60355113382565, 1443.0393897857566);
        particle(player, 313.19515311530995, 111.32315841807977, 1445.2312566149938);
        particle(player, 313.2054970224558, 111.04459430707601, 1447.4243291310815);
        particle(player, 313.2148975995373, 110.76767231444504, 1449.6184584562561);
        particle(player, 313.22345765556673, 110.49222497223364, 1451.8135112016744);
        particle(player, 313.23126879288185, 110.21810189135203, 1454.0093678751127);
        particle(player, 313.2377912493587, 109.94516801982218, 1456.205921125518);
        particle(player, 313.2431655278049, 109.67330207865507, 1458.4030749297656);
        particle(player, 313.2475168168751, 109.40239515724173, 1460.6007433734887);
        particle(player, 313.2497139326904, 109.13250861849073, 1462.7988867335987);
        particle(player, 313.2442592094458, 108.86385957231052, 1464.9974532094689);
        particle(player, 313.2307940724697, 108.59632111564167, 1467.1962540473953);
        particle(player, 313.20707164309715, 108.32945888545487, 1469.3949896524628);
        particle(player, 313.174212331247, 108.06320379166287, 1471.5936188027347);
        particle(player, 313.1332142201936, 107.79749380311547, 1473.7921088968478);
        particle(player, 313.0849664407722, 107.53227322638759, 1475.9904341846518);
        particle(player, 313.030261079235, 107.26749205825368, 1478.1885743656517);
        particle(player, 312.9698037803826, 107.00310540431977, 1480.3865134785487);
        particle(player, 312.90422318960265, 106.73907295705396, 1482.5842390211649);
        particle(player, 312.83407936149854, 106.47535852714654, 1484.7817412527013);
        particle(player, 312.75987124863775, 106.21192962275101, 1486.979012640302);
        particle(player, 312.6820433713899, 105.9487570717142, 1489.176047419826);
        particle(player, 312.60037250770273, 105.68581468240299, 1491.3728101405757);
        particle(player, 312.5152791028267, 105.42307893918449, 1493.5693001879692);
        particle(player, 312.42713773497064, 105.16052872901898, 1495.7655177618014);
        particle(player, 312.3362821205473, 104.89814509598686, 1497.961463676119);
        particle(player, 312.242367788642, 104.63591102089565, 1500.1571052697723);
        particle(player, 312.1457296849348, 104.3738112234044, 1502.3524472105198);
        particle(player, 312.04666621534625, 104.11183198436525, 1504.5474942232129);
        particle(player, 311.94544323274624, 103.84996098631625, 1506.7422510121057);
        particle(player, 311.84294553176943, 103.58770649113244, 1508.936630832677);
        particle(player, 311.7418176263354, 103.3242940517558, 1511.1305744251551);
        particle(player, 311.6437877948948, 103.0596700829278, 1513.3241896752118);
        particle(player, 311.54975486739835, 102.79379121845383, 1515.5175487524912);
        particle(player, 311.45992314916634, 102.52678324596116, 1517.710745559919);
        particle(player, 311.37383347085205, 102.25875934443724, 1519.9038466696275);
        particle(player, 311.29107668979503, 101.98982134808853, 1522.0969122967606);
        particle(player, 311.2112882426402, 101.72006088351318, 1524.2899967740393);
        particle(player, 311.1347643611685, 101.44921980737155, 1526.4830723792284);
        particle(player, 311.06176946346505, 101.17689178527303, 1528.6760805657927);
        particle(player, 310.9931798653913, 100.90270881894608, 1530.8689992280504);
        particle(player, 310.9328683126575, 100.62632410948005, 1533.0618279092405);
        particle(player, 310.8868011429442, 100.3472305739196, 1535.2543783348);
        particle(player, 310.85782532507676, 100.06569144557959, 1537.4466273707746);
        particle(player, 310.8440835994064, 99.78194437777248, 1539.6387205386086);
        particle(player, 310.84392175298467, 99.49620392957466, 1541.8307994700658);
        particle(player, 310.8560105617227, 99.20866381003566, 1544.0229997423448);
        particle(player, 310.87887765004524, 98.9194989043036, 1546.2154495392724);
        particle(player, 310.9163550684448, 98.62886710285969, 1548.40796346695);
        particle(player, 310.9731128610891, 98.33691095299466, 1550.600133635662);
        particle(player, 311.05265706026427, 98.04301818033748, 1552.7912675812206);
        particle(player, 311.15681599901984, 97.74604675919473, 1554.980626977597);
        particle(player, 311.2865887309619, 97.44492188661194, 1557.1675904334284);
        particle(player, 311.44222974692394, 97.1388263820913, 1559.351736143392);
        particle(player, 311.6251958251685, 96.82657215807109, 1561.532315738908);
        particle(player, 311.8385725207382, 96.50701237333168, 1563.708210160824);
        particle(player, 312.08086596264104, 96.18013999282702, 1565.8795900645878);
        particle(player, 312.3489904887142, 95.84659499193779, 1568.047243012424);
        particle(player, 312.6402053306885, 95.5069613374123, 1570.2119088785273);
        particle(player, 312.95330662336477, 95.16177188906583, 1572.3739978405765);
        particle(player, 313.2866177192344, 94.81174215030107, 1574.5341029593685);
        particle(player, 313.64064847470496, 94.45928780124015, 1576.6928859065429);
        particle(player, 314.0165761656013, 94.10826968480106, 1578.8512332060761);
        particle(player, 314.4128806250879, 93.7610045149003, 1581.0100293004728);
        particle(player, 314.82737566985344, 93.41713076193159, 1583.1693592913387);
        particle(player, 315.25569274752837, 93.07691324780312, 1585.3301232879496);
        particle(player, 315.69391015324356, 92.74038877738501, 1587.4930319549262);
        particle(player, 316.13974031628067, 92.4073878858415, 1589.6583426578484);
        particle(player, 316.5899170177456, 92.07795031301038, 1591.82660919822);
        particle(player, 317.0396520535027, 91.7524747640949, 1593.9987859777325);
        particle(player, 317.48461192764165, 91.43075217753574, 1596.1754371612203);
        particle(player, 317.90241513896063, 91.11204656221743, 1598.3591256530985);
        particle(player, 318.27359884464954, 90.79436791295431, 1600.549441595779);
        particle(player, 318.5949524251953, 90.47567042848256, 1602.7446431448543);
        particle(player, 318.8674815204559, 90.15484615789654, 1604.9433921402515);
        particle(player, 319.0965386626297, 89.83086227083565, 1607.1447622239243);
        particle(player, 319.28751574033475, 89.50254137774851, 1609.3480190235703);
        particle(player, 319.44456517682073, 89.1698450044183, 1611.552925577);
        particle(player, 319.5713829512528, 88.83273957555792, 1613.7593414075052);
        particle(player, 319.67000690776723, 88.49118016426056, 1615.967123512434);
        particle(player, 319.7428440822139, 88.14556288137159, 1618.1763548625763);
        particle(player, 319.7914173921673, 87.79690839568613, 1620.3873111861938);
        particle(player, 319.8176745946582, 87.44658267035585, 1622.6004166737246);
        particle(player, 319.82335737578927, 87.09644802190697, 1624.8162380940425);
        particle(player, 319.8106757723155, 86.74711913012474, 1627.034928069915);
        particle(player, 319.7828910037632, 86.39914647539709, 1629.2567017108995);
        particle(player, 319.7454697934866, 86.05363302063859, 1631.4820807331994);
        particle(player, 319.705231151337, 85.71054403763313, 1633.7111690911559);
        particle(player, 319.67150499369274, 85.36924189487391, 1635.943724220613);
        particle(player, 319.6474373327009, 85.0295567710533, 1638.179515428677);
        particle(player, 319.633922224846, 84.69154135653609, 1640.4183991258615);
        particle(player, 319.6304782939583, 84.35503659068961, 1642.6601990618974);
        particle(player, 319.6360140992916, 84.01989856538992, 1644.9047788181765);
        particle(player, 319.6495615441358, 83.68639101376543, 1647.1521425662286);
        particle(player, 319.67025539744765, 83.35456068873043, 1649.4022177054014);
        particle(player, 319.69666275658074, 83.02482789704803, 1651.655072046758);
        particle(player, 319.72752811398624, 82.6975704409834, 1653.910739256853);
        particle(player, 319.7617303532967, 82.37311966943177, 1656.1692191759141);
        particle(player, 319.798908034745, 82.05120108028915, 1658.430289841357);
        particle(player, 319.83873904359086, 81.73156701857476, 1660.6937508161443);
        particle(player, 319.8809363080228, 81.41399405070253, 1662.9594210031746);
        particle(player, 319.92524398366237, 81.0982805955565, 1665.2271366924688);
        particle(player, 319.97143405376994, 80.7842447872542, 1667.4967498142476);
        particle(player, 320.01799187188595, 80.47209673426714, 1669.7682713127792);
        particle(player, 320.0642351889155, 80.1620212911579, 1672.0416729196488);
        particle(player, 320.1101989967361, 79.85381403097715, 1674.3167869785843);
        particle(player, 320.1539524456384, 79.54729068994186, 1676.5934919263893);
        particle(player, 320.1957368322979, 79.24228517868931, 1678.8716471233392);
        particle(player, 320.2357671364403, 78.9386477896863, 1681.1511258675396);
        particle(player, 320.2742348904988, 78.63624358144637, 1683.4318139746033);
        particle(player, 320.30999401332593, 78.33495092211585, 1685.7136198056248);
        particle(player, 320.33946103651454, 78.0346601767099, 1687.9964412741379);
        particle(player, 320.3606889546916, 77.73508690299344, 1690.2800943178217);
        particle(player, 320.3739302681888, 77.43598088268278, 1692.564444143941);
        particle(player, 320.3767879797265, 77.13619005299572, 1694.8490255621407);
        particle(player, 320.3665706982016, 76.83445826848232, 1697.1334424567756);
        particle(player, 320.34724964289023, 76.53058273582431, 1699.4177170585078);
        particle(player, 320.3198138092007, 76.22457516745897, 1701.7019456382795);
        particle(player, 320.2851439797725, 75.91644457666966, 1703.9862240222844);
        particle(player, 320.2440319829466, 75.60559610504164, 1706.2704658187);
        particle(player, 320.1971771869614, 75.29188867037752, 1708.5547439057348);
        particle(player, 320.1451971463091, 74.97558896439982, 1710.8392591777251);
        particle(player, 320.08864201412075, 74.65693880111354, 1713.1241927730869);
        particle(player, 320.02540343558445, 74.33554622453504, 1715.4093981567432);
        particle(player, 319.95620156806615, 74.01146206352627, 1717.6950074999536);
        particle(player, 319.8810040185211, 73.68493498796977, 1719.9811752337569);
        particle(player, 319.7991695446995, 73.35556634992994, 1722.2678049993258);
        particle(player, 319.71141058379635, 73.0234015805765, 1724.5550313526346);
        particle(player, 319.6183573381741, 72.68869645487868, 1726.8430512603957);
        particle(player, 319.51925121757733, 72.35168335089492, 1729.1319601175535);
        particle(player, 319.41473048522045, 72.01279033745064, 1731.421993280322);
        particle(player, 319.3053687011184, 71.67218981734143, 1733.7132852348707);
        particle(player, 319.19167686951465, 71.3300383826419, 1736.0059563915206);
        particle(player, 319.07411028423394, 70.98647826467577, 1738.3001142052494);
        particle(player, 318.9517383475932, 70.6420580910901, 1740.5959012994374);
        particle(player, 318.82311197947644, 70.29685712151476, 1742.8932372643612);
        particle(player, 318.68690763200954, 69.95116417537696, 1745.1920993210701);
        particle(player, 318.54062180502126, 69.60502470536717, 1747.4922409758985);
        particle(player, 318.381411749658, 69.25741130375704, 1749.7929673289711);
        particle(player, 318.2087084555505, 68.90781011173381, 1752.0940042131738);
        particle(player, 318.0219858800275, 68.55618596592414, 1754.3952490397967);
        particle(player, 317.81946510466435, 68.20272160298778, 1756.6964848626164);
        particle(player, 317.59561543742643, 67.84736659377398, 1758.996738832185);
        particle(player, 317.35011338064106, 67.49029129106344, 1761.2958656474666);
        particle(player, 317.0833034376245, 67.1318681829711, 1763.5939024207348);
        particle(player, 316.78827387537854, 66.77330668933966, 1765.8896036724218);
        particle(player, 316.462861905161, 66.41505485755617, 1768.1822287678888);
        particle(player, 316.1090201968189, 66.05751679120206, 1770.4719984606118);
        particle(player, 315.7284158810596, 65.70189141387287, 1772.7593750197805);
        particle(player, 315.3264612839823, 65.34924433578107, 1775.0457506770704);
        particle(player, 314.91187515818723, 65.00090838496439, 1777.3333663412593);
        particle(player, 314.4885931558967, 64.65724878239703, 1779.6229505461297);
        particle(player, 314.060780548728, 64.3187698565067, 1781.9152891274755);
        particle(player, 313.6315220408435, 63.98625881029927, 1784.2109866073);
        particle(player, 313.2022113379892, 63.66071363320843, 1786.5103319427783);
        particle(player, 312.77351799040576, 63.34228046810442, 1788.813150634602);
        particle(player, 312.3467095653774, 63.03056314602615, 1791.1191939297867);
        particle(player, 311.9229279164971, 62.72551663732566, 1793.4283077474095);
        particle(player, 311.5025381087088, 62.42660528716344, 1795.7400540218973);
        particle(player, 311.08521566960997, 62.13319096733596, 1798.0538770033254);
        particle(player, 310.6766684479164, 61.84470192243214, 1800.370219075129);
        particle(player, 310.2839988005962, 61.560625866287026, 1802.6895525762327);
        particle(player, 309.9195624068026, 61.28065621702304, 1805.0124688872895);
        particle(player, 309.5923910997647, 61.00452154754852, 1807.33860769179);
        particle(player, 309.31981426867213, 60.73227238038825, 1809.666528477102);
        particle(player, 309.1137780853796, 60.463792348171864, 1811.9933291476314);
        particle(player, 308.9780250840877, 60.19868477421374, 1814.3161870938309);
        particle(player, 308.91116413763217, 59.93659472944284, 1816.633061122265);
        particle(player, 308.9264895913097, 59.67735248479487, 1818.9379787047883);
        particle(player, 309.03193644925443, 59.42079905740144, 1821.2247501823588);
        particle(player, 309.22662496686894, 59.166650537272716, 1823.4896954650503);
        particle(player, 309.50716506546513, 58.91465299223987, 1825.73032641616);
        particle(player, 309.8748960863915, 58.664579302621746, 1827.941921603659);
        particle(player, 310.32941841169327, 58.41622633011644, 1830.120359453582);
        particle(player, 310.86935988828077, 58.169127575091004, 1832.261872714945);
        particle(player, 311.4900952217071, 57.92315103939724, 1834.3650890062586);
        particle(player, 312.1823865843577, 57.67817861682465, 1836.4324808094);
        particle(player, 312.93563978423526, 57.43424945567011, 1838.4683490807822);
        particle(player, 313.739085764459, 57.191392215950444, 1840.4777793892647);
        particle(player, 314.58664188940196, 56.948055789633116, 1842.4627497790025);
        particle(player, 315.4718113354435, 56.701491548725144, 1844.4255899090288);
        particle(player, 316.3914304564543, 56.44897390576704, 1846.366822069738);
        particle(player, 317.34537531620913, 56.18585662857186, 1848.284485119203);
        particle(player, 318.3328196252452, 55.909667245138714, 1850.1779363932535);
        particle(player, 319.3509456141452, 55.62027045726011, 1852.0489394153842);
        particle(player, 320.3969583747782, 55.31836328246434, 1853.8996799192705);
        particle(player, 321.460654505439, 55.00477925565143, 1855.7378752801067);
        particle(player, 322.5116178118586, 54.67915750661406, 1857.5818812959467);
        particle(player, 323.5391787757701, 54.3406594015896, 1859.4366361532236);
        particle(player, 324.54498850580035, 53.99032718455114, 1861.3019032235268);
        particle(player, 325.52770874180254, 53.62911873767717, 1863.178650862023);
        particle(player, 326.4837209341787, 53.25719043247698, 1865.0683015699274);
        particle(player, 327.4121095858797, 52.87540193526529, 1866.9713684908693);
        particle(player, 328.3160544915593, 52.48454397243704, 1868.8868729115325);
        particle(player, 329.1962691355071, 52.086832585587814, 1870.8152894750863);
        particle(player, 330.05270282219044, 51.68381551637633, 1872.757044742635);
        particle(player, 330.87937307500107, 51.27691734948378, 1874.7142132403528);
        particle(player, 331.6738044090533, 50.86793741746043, 1876.687671406854);
        particle(player, 332.43668603626924, 50.45827307319255, 1878.6772074531636);
        particle(player, 333.16980211745886, 50.04894499520939, 1880.6822099624067);
        particle(player, 333.8764821655175, 49.639923833609025, 1882.7013632753751);
        particle(player, 334.55970145864455, 49.23118280019965, 1884.733532921129);
        particle(player, 335.22395190084575, 48.822697444909075, 1886.7773076405094);
        particle(player, 335.8954022101078, 48.41348498173506, 1888.8244713887707);
        particle(player, 336.5915151885469, 48.0031198367144, 1890.8678215710738);
        particle(player, 337.30806948242554, 47.59170095986734, 1892.9089809050288);
        particle(player, 338.03969596900345, 47.180286551696284, 1894.9504842654992);
        particle(player, 338.7655029628516, 46.77031527230235, 1897.000512452711);
        particle(player, 339.46049188163596, 46.36260300007506, 1899.0656950530397);
        particle(player, 340.1149249586254, 45.95764977045808, 1901.147202914123);
        particle(player, 340.7281818479595, 45.55567362537878, 1903.244228534141);
        particle(player, 341.2965006559695, 45.1566327638829, 1905.3561439002412);
        particle(player, 341.8094648992219, 44.76094516255086, 1907.4824950372342);
        particle(player, 342.2686274317897, 44.36875857439541, 1909.6217630388699);
        particle(player, 342.6683272787963, 43.98085805029545, 1911.7725953763577);
        particle(player, 343.0112077345447, 43.59728618480352, 1913.9333915995273);
        particle(player, 343.2926033425502, 43.21849973489465, 1916.1022634023227);
        particle(player, 343.51035642710656, 42.84425841853094, 1918.2769599517717);
        particle(player, 343.67017036029745, 42.47455748470903, 1920.4563637316137);
        particle(player, 343.767640968855, 42.11000507153514, 1922.6382135304461);
        particle(player, 343.80461376510027, 41.75070925987715, 1924.8209822211604);
        particle(player, 343.7871374024269, 41.39616256493073, 1927.0039855780271);
        particle(player, 343.71873275235015, 41.04590649568077, 1929.1863346960793);
        particle(player, 343.59949571644324, 40.698727536597694, 1931.3662787131323);
        particle(player, 343.4314331266643, 40.353110464356774, 1933.5425238733822);
        particle(player, 343.21631493912906, 40.008288821142074, 1935.71413733738);
        particle(player, 342.95929757289395, 39.66418805771514, 1937.8815266252695);
        particle(player, 342.66497021872493, 39.320535740708614, 1940.0450732729082);
        particle(player, 342.33738367031185, 38.97728993917467, 1942.205253031436);
        particle(player, 341.9801329574073, 38.63441264282199, 1944.3625404113845);
        particle(player, 341.5964101706562, 38.29186939542386, 1946.5173976235408);
        particle(player, 341.18905087082175, 37.949628962503525, 1948.670267065115);
        particle(player, 340.75802664529294, 37.60869345579281, 1950.8211825524215);
        particle(player, 340.301462948303, 37.27053961561726, 1952.969724789505);
        particle(player, 339.81835919712285, 36.93606837651278, 1955.1154209224026);
        particle(player, 339.30723823006826, 36.60624098881927, 1957.2575631943434);
        particle(player, 338.7699404513193, 36.280968712634525, 1959.3961801068206);
        particle(player, 338.2074550218323, 35.9605207767177, 1961.5311656062795);
        particle(player, 337.6212895112593, 35.644945417897254, 1963.6625486503376);
        particle(player, 337.01159427177805, 35.33444286562703, 1965.7899283667782);
        particle(player, 336.3778794527092, 35.02950695149196, 1967.912731756198);
        particle(player, 335.7228144331712, 34.7297279624291, 1970.031328911912);
        particle(player, 335.0523709774133, 34.43457516557527, 1972.1474106145633);
        particle(player, 334.37188788336033, 34.14341208055993, 1974.262420607105);
        particle(player, 333.68552289788073, 33.85550108831493, 1976.377359216008);
        particle(player, 332.9964037325768, 33.570185436266534, 1978.492912183696);
        particle(player, 332.3066807643717, 33.28703173575412, 1980.6095218041169);
        particle(player, 331.6195282374689, 33.00499033811847, 1982.7277799361743);
        particle(player, 330.93779354155856, 32.72309442849586, 1984.848208232471);
        particle(player, 330.26335748716383, 32.44080860083244, 1986.9711721902934);
        particle(player, 329.5972899778314, 32.15764999342572, 1989.0968203549055);
        particle(player, 328.9411502801114, 31.873169393836633, 1991.2254475491095);
        particle(player, 328.2969991192261, 31.58640416262175, 1993.3573146221652);
        particle(player, 327.6691281759605, 31.296267361020032, 1995.4931553489312);
        particle(player, 327.0639259489354, 31.00094308764006, 1997.6337734199178);
        particle(player, 326.4890199091747, 30.69786850484147, 1999.7796426023283);
        particle(player, 325.94807593524837, 30.385180707543483, 2001.9305444831518);
        particle(player, 325.4417983924881, 30.062173228500676, 2004.0861574794753);
        particle(player, 324.9683064985354, 29.72836731639162, 2006.24597121171);
        particle(player, 324.52593270267937, 29.382817409543353, 2008.4094029330872);
        particle(player, 324.1112877551449, 29.02529192633719, 2010.5760276710062);
        particle(player, 323.721952770774, 28.656026650776003, 2012.7457326236083);
        particle(player, 323.3551865784621, 28.273989282363736, 2014.91797013735);
        particle(player, 323.0091637398262, 27.878149337514706, 2017.092319431802);
        particle(player, 322.68159254504525, 27.469039983845445, 2019.2689314223667);
        particle(player, 322.370413276161, 27.047655040629202, 2021.448161701247);
        particle(player, 322.0717670270328, 26.61882754091569, 2023.631680240174);
        particle(player, 321.78153361288315, 26.18751807045136, 2025.821087838013);
        particle(player, 321.498063889997, 25.754953459720085, 2028.0166722549259);
        particle(player, 321.2198822663515, 25.321737946932643, 2030.21847113927);
        particle(player, 320.9463123139006, 24.888928072189994, 2032.4267660758308);
        particle(player, 320.6774280661037, 24.457236816844265, 2034.6417548257305);
        particle(player, 320.4171932322065, 24.02706600927687, 2036.863847297715);
        particle(player, 320.17050210520273, 23.598284032398517, 2039.0931912850651);
        particle(player, 319.94566152881026, 23.170527106946025, 2041.3297709907142);
        particle(player, 319.7474901971954, 22.74320941759309, 2043.5730745847536);
        particle(player, 319.5730845126228, 22.3162932588609, 2045.8227573627728);
        particle(player, 319.4198575652266, 21.889744162033587, 2048.0785348776335);
        particle(player, 319.28550456363223, 21.46353061730381, 2050.3401705301994);
        particle(player, 319.16797366033705, 21.038120397330754, 2052.607653016862);
        particle(player, 319.06742992167216, 20.614661278747075, 2054.881214871184);
        particle(player, 318.98802010542636, 20.195376296407478, 2057.161320527993);
        particle(player, 318.93080582410136, 19.78036300881288, 2059.447575347996);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);
        particle(player, 318.89470181411116, 19.369235546926433, 2061.739504725993);


        Location l = player.getLocation();
        try {
            output.write((System.nanoTime() + " " + l.getX() + " " + l.getY() + " " + l.getZ() + "\n").getBytes(StandardCharsets.UTF_8));
            output.flush();
        } catch(Exception e) {
            e.printStackTrace();
        }
        if(player.dead) {
            event.setCancelled(true);
            return;
        }
        boolean canFly = false;
        Location dst = event.getTo();
        if(ServerElytraRun.endDrop.contains(dst)) {
            player.teleport(server.practiceChooser);
        }

        if(server.state == ServerElytraRun.GAME_INPROGRESS) {
            double dist = server.getPlayerDistance(player, server.tunnel);

            player.inBlock = false;
            // If the Player reached the end of the tunnel
            if(ServerElytraRun.tunnelFinish[server.tunnel].contains(dst)) {
                if(player.startingTime != 0) {
                    long timeTaken = System.nanoTime() - server.roundStartTime;
                    if(player.maxDistance[server.tunnel] != Double.POSITIVE_INFINITY) {
                        // Tunnel completion/scoring logic goes here, tunnel has been completed for the first time
                        player.bukkitPlayer.playSound(player.getLocation(), "tsf:voices.tfa_land", SoundCategory.PLAYERS, 1, 1);

                        player.maxDistance[server.tunnel] = Double.POSITIVE_INFINITY;
                        player.completedTime[server.tunnel] = timeTaken;
                        player.addScore(500, "finished tunnel " + server.tunnel);

                        // Tunnel completed message
                        player.bukkitPlayer.sendTitle("Tunnel completed in " + timeToString(timeTaken), "");
                        player.bukkitPlayer.sendMessage(ChatMessageType.ACTION_BAR, new TextComponent("Tunnel completed in " + timeToString(timeTaken) + " seconds!"));

                        server.sendMessageAll(ChatColor.WHITE + "" + ChatColor.BOLD + "[+500] " +
                                ChatColor.RESET + player.getDisplayName() + " has completed tunnel " + (server.tunnel + 1) + " in " + timeToString(timeTaken) + " seconds!");
                    }
                }
            }

            // Player is in a zone where they can crash
            if(ServerElytraRun.dangerZones[server.tunnel].contains(dst)) {
                if (dist > player.maxDistance[server.tunnel])
                    player.maxDistance[server.tunnel] = dist;

                if(player.startingTime == 0 && player.getLocation().distance(server.jumpPlatform[server.tunnel]) < 100) {
                    player.startingTime = System.nanoTime();
                }
                if(player.startingTime != 0) {
                    player.bukkitPlayer.sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(
                            String.format("Speed: %.1f  Completion: %.0f%%",
                                    event.getTo().distance(event.getFrom()) * 20,
                                    100.0 * server.getPlayerDistance(player, server.tunnel) / server.tunnelLength(server.tunnel)
                            )
                                    /*+ timeToString(System.nanoTime() - player.startingTime)*/
                    ));
                }

                // If the player has crashed
                if(server.world.getBlockAt(player.getLocation()).getType() != Material.AIR) {
                    player.inBlock = true;
                }
                if(player.bukkitPlayer.isOnGround()) {
                    server.killPlayer(player);
                }
            } else {
                player.startingTime = 0;
            }
            canFly = true;
        }

        if(server.state == ServerElytraRun.GAME_STARTING) {
            if(ServerElytraRun.dangerZones[0].contains(dst)) {
                player.teleport(server.jumpPlatform[0]);
            }
        }

        ItemStack chestplate = player.bukkitPlayer.getInventory().getChestplate();
        if(chestplate != null) {
            ItemMeta meta = chestplate.getItemMeta();
            if (meta != null) {
                if(canFly) {
                    ((Damageable) meta).setDamage(0);
                } else {
                    ((Damageable) meta).setDamage(432);
                }
                chestplate.setItemMeta(meta);
            }
        }
    }

    @Override
    protected void onInteract(PlayerElytraRun player, PlayerInteractEvent event) {
        /*if(event.getAction() == Action.PHYSICAL) {
            Block block = event.getClickedBlock();
            if(block != null && block.getType() == Material.LIGHT_WEIGHTED_PRESSURE_PLATE) {
                int tunnel = server.getTunnel(player.getLocation());
                if(tunnel != -1) {
                    Point3D from = ServerElytraRun.tunnelAirlockEnd[tunnel];
                    Point3D to = ServerElytraRun.tunnelAirlockStart[tunnel + 1];
                    Point3D diff = to.subtract(from);
                    player.teleportRelative(diff.x, diff.y, diff.z, 0, 0, true, true, true, true, true);
                }
            }
        } else */
        if(event.getAction() == Action.RIGHT_CLICK_BLOCK) {
            Block block = event.getClickedBlock();
            if(block.getType() == Material.BIRCH_WALL_SIGN) {
                Sign sign = (Sign) block.getState();
                if(sign.getLine(1).equals("Go to")) {
                    String line2 = sign.getLine(2);
                    if(line2.startsWith("Tunnel ")) {
                        player.teleport(server.jumpPlatform[Integer.parseInt(line2.substring(7)) - 1]);
                    }
                }
            }
        }
    }

    @Override
    public void onDeath(PlayerElytraRun player, PlayerDeathEvent event) {
        if(!player.dead) {
            server.spawnDeathEffect(player);
        }
    }

    @Override
    public void onDamage(PlayerElytraRun player, EntityDamageEvent event) {
        if (!ServerElytraRun.dangerZones[server.tunnel].contains(player.getLocation())) {
            event.setCancelled(true);
        }

        if(player.bukkitPlayer.getHealth() - event.getFinalDamage() < 1) {
            event.setCancelled(true);
            server.killPlayer(player);
        }
    }

    @Override
    public void onRespawn(PlayerElytraRun player, PlayerRespawnEvent event) {
        player.dead = false;
        if(server.state == ServerElytraRun.GAME_INPROGRESS || server.state == ServerElytraRun.GAME_STARTING) {
            server.giveElytra(player);
            event.setRespawnLocation(server.getPlayerStartLocation(player));
        }
    }

    @Override
    public void onInventoryClick(PlayerElytraRun player, InventoryClickEvent event) {
        event.setCancelled(true);
    }
}
